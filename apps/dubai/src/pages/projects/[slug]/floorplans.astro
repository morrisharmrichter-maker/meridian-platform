---
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const projects = await getCollection("projects");
  return projects.map((p) => ({ params: { slug: p.data.id } }));
}

const { slug } = Astro.params;
const projects = await getCollection("projects");
const project = projects.find((p) => p.data.id === slug);

if (!project) {
  throw new Error("Project not found");
}
---

<html>
  <head><title>{project.data.title} Floorplans | Meridian Dubai</title></head>
  <body>
    <a href={`/projects/${project.data.id}/`}>← Back to Project</a>
    <h1>{project.data.title} — Floorplans</h1>

    <p>This page will contain floor plan images, unit configurations and downloadable PDFs.</p>
  </body>
</html>
